<ion-view class="workshops" view-title="{{::'app.general.workshops'|translate}}" >
    <ion-nav-buttons side="right">
        <button class="button {{view.filterLiked? 'ion-ios-star':'ion-ios-star-outline'}}" ng-click="view.filterLiked=!view.filterLiked">
        </button>
    </ion-nav-buttons>

    <ion-content>
        <div class="tabmenu">
            <div class="tabmenu-left" ng-click="previousTab()"
                                    style="word-wrap: normal; direction: rtl; padding-right: 0.5em;">
                <small ng-if="previousDay()">{{ 'app.days.' + previousDay()|translate }}</small>
            </div>
            <div class="tabmenu-center" ng-if="::currentDay()">
                <b>{{ 'app.days.' + currentDay()|translate }}</b>
            </div>
            <div class="tabmenu-right" ng-click="nextTab()"
                                       style="word-wrap: normal; padding-left: 0.5em;">
                <small ng-if="nextDay()">{{ 'app.days.' + nextDay()|translate }}</small>
            </div>
        </div>


        <ion-slide-box class="work-container" on-slide-changed="changeTabHeadTo($index)">
            <ion-slide class="work-tab" ng-repeat="day in ::appData.workshops | orderObjectBy:'date':'date'">
                <ion-scroll class="work-list">
                   <div class="work-box"
                            ng-repeat="event in day.events |propertyFilter:'liked':true:view.filterLiked | orderBy: 'start'"

                            id="{{::event.id}}">


                       <div class="row">
                           <div class="col left-side">
                               <div class="marker-container">

                                   <div ng-click="toggleLike(event);">
                                       <span class="{{event.liked ? 'ion-ios-star' : 'ion-ios-star-outline'}}"></span>
                                   </div>
                               </div>


                               <div class="box-ct ">

                                   <div class="box">
                                       <p class="upper-case">
                                           {{::('app.days.abbr.' + (event.start | date:'EEEE') | lowercase | translate)}}
                                           <br>
                                           {{::event.start|date:'HH:mm'}}
                                           <br>
                                           {{::event.end|date:'HH:mm'}}
                                       </p>
                                   </div>

                               </div>
                           </div>
                           <div class="col right-side" ui-sref="app.workshop({idx:event.id})">

                               <h3 class="head">{{::event|trans:'name'}}</h3>
                               <p class="text extra" ng-if="::event.author">{{::'app.workshop.from'|translate }}: {{::event.author}}</p>
                               <p class="text extra">{{::'app.general.location'|translate }}: {{::appData.locations[event.locationRef]|trans:'name'}}</p>
                               <p class="text">{{:: event|trans:'preview'}}</p>
                           </div>
                       </div>
                    </div>
                </ion-scroll>
            </ion-slide>
        </ion-slide-box>
    </ion-content>
</ion-view>

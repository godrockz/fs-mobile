<!--<ion-view view-title="{{'app.general.locations'|translate}}" >-->
<ion-view class="program" view-title="{{'app.general.program'|translate}}" cache-view="false">
    <ion-content>
        <div class="tabmenu">
            <div class="tabmenu-left" ng-click="previous()" style="word-wrap: normal; direction: rtl; padding-right: 0.5em;">
                <small>{{eventsOutput[tabIndex==0?tabNames.length-1:tabIndex-1]|trans:'name'}}</small>
            </div>
            <div class="tabmenu-center">
                <b>{{eventsOutput[tabIndex]|trans:'name'}}</b>
            </div>
            <div class="tabmenu-right" ng-click="next()" style="word-wrap: normal; padding-left: 0.5em;">
                <small>{{eventsOutput[tabIndex==tabNames.length-1?0:tabIndex+1]|trans:'name'}}</small>
            </div>
        </div>

        <ion-slide-box  class="prog-container"
                        on-slide-changed="changeTabHeadTo($index)"
                       does-continue="true"
                    active-slide="active.slide">

            <ion-slide class="prog-tab" ng-repeat="location in eventsOutput">
                <div class="centerline" style=""></div>
                <ion-scroll class="prog-list" >
                    <!--<div><h1>{{::tab}}</h1></div>-->
                    <div class="prog-day" ng-repeat="(eventday, events) in location.events | orderObjectBy:'index'" ng-if="events.events.length > 0" >
                        <div class="prog-date">
                            <div class="prog-date-left">{{::'app.days.' + (events.date | timeFormat: 'dddd')| lowercase | translate }}</div>
                            <div class="prog-date-right">{{::events.date | timeFormat: 'DD.MM.'}}</div>
                        </div>
                        <div class="prog-box" ng-repeat="event in events.events | orderBy: 'start'"
                             ui-sref="app.singleprogram({idx:event.id})" id="{{event.id}}">
                            <div class="prog-actual"></div>
                            <div class="prog-datetime">
                                <div class="box">
                                    <span>{{::'app.days.abbr.' + (event.start | date:'EEEE') | lowercase | translate}}<br>{{::event.start|date:'H:mm'}}</span>
                                </div>
                            </div>
                            <div class="prog-text-head">
                                <p class="head">{{::event|trans:'name'}} {{event.id === location.actualEvent?'!':''}}</p>
                                <p class="text">{{::'app.event.category.' + event.eventCategory|translate | uppercase}} <span ng-if="::event.author">| {{::event.author}}</span></p>
                            </div>
                        </div>
                    </div>

                    <div style="height:5em;"></div>

                </ion-scroll>
            </ion-slide>
        </ion-slide-box>
    </ion-content>
</ion-view>
